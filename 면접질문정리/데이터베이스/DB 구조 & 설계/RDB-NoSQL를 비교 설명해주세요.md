# Q. RDB-NoSQL를 비교 설명해주세요.

[답변]

관계형 데이터베이스(RDB)는 사전에 엄격하게 정의된 DB schema를 요구하는 table 기반 데이터 구조를 갖습니다.

NoSQL(비관계형 데이터베이스)은 table 형식이 아닌 비정형 데이터를 저장할 수 있도록 지원합니다.

RDB는 엄격한 schema로 인해 데이터 중복이 없기 때문에 데이터 update가 많을 때 유리합니다.

NoSQL의 경우 데이터 중복으로 인해 데이터 update 시 모든 컬렉션에서 수정이 필요하기 때문에 update가 적고 조회가 많을 때 유리합니다.

[TIP]

> RDB를 아직 많이 쓰고 있지만 점차 NoSQL를 도입하는 영역이 넓어지고 있습니다. 따라서 프로젝트마다 RDB vs NoSQL중에 더 유리한 것을 채택해서 사용해야 하는데, 이를 위해서는 장단점과 어떤 차이가 있는지를 명확히 알아야 합니다.

## Key-value storage system (NoSQL)

기존의 관계형 database의 경우에는 단일 기업의 데이터를 다루는데 최적화 되어 있습니다. 하지만 최신 데이터들은 꼭 관계형으로 처리될 필요가 없는 경우도 많고, 다뤄야 하는 데이터의 양도 훨씬 커졌습니다. 즉 Big data라고 일컬어 지는 많은 양의 데이터를 처리하기 위한 방법으로 다양한 해결책이 나왔는데, 그 중 하나의 방법이 Key-value storage system 입니다.

Key-value stores는 NoSQL system이라고도 불립니다. 그 이유는 SQL을 보통 지원하지 않고 transaction을 지원하지 않는 등 SQL을 사용하는 기존의 RDB와의 차이점 때문입니다.

### MongoDB

NoSQL의 종류는 Bigtable, DynamoDB, Cassandra, MongoDB 등이 있습니다. 그 중 MongoDB의 예시를 보면서 NoSQL이 어떻게 작동하는지 간단하게 살펴보겠습니다.

|                  | RDB(SQL)                                                                                                                                                  | NoSQL                                                                                                                                                |
| ---------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------- |
| 데이터 저장 모델 | table                                                                                                                                                     | json document / key-value / 그래프 등                                                                                                                |
| 개발 목적        | 데이터 중복감소                                                                                                                                           | 애자일 / 확장 가능성 / 수정 가능성                                                                                                                   |
| 예시             | Oracle, MySQL, PostgreSQL                                                                                                                                 | MongoDB, DynamoDB 등                                                                                                                                 |
| Schema           | 엄격한 데이터 구조                                                                                                                                        | 유연한 데이터 구조                                                                                                                                   |
| 장점             | - 명확한 데이터구조 보장<br> - 데이터 중복없이 한번만 저장(무결성) <br>- 데이터 중복이 없어서 데이터 update 용이                                          | - 유연하고 자유로운 데이터 구조 <br> - 새로운 필드 추가 자유로움 <br> - 수평적 확장(scale out) 용이                                                  |
| 단점             | - 시스템이 커지면 Join문이 많은 복잡한 query가 필요 <br> - 성능 향상을 위해 수직적 확장(Scale up)만 가능하여 비용이 큼 <br> - 데이터 구조가 유연하지 못함 | - 데이터 중복 발생 가능 <br> - 중복 데이터가 많이 때문에 데이터 변경 시 모든 컬렉션에서 수정이 필요함 <br> - 명확한 데이터 구조 보장 X               |
| 사용             | - 데이터 구조가 변경될 여지가 없이 명확한 경우 <br> - 데이터 update가 잦은 시스템 (중복 데이터가 없으므로 변경에 유리)                                    | - 정확한 데이터 구조가 정해지지 않은 경우 <br> - Update가 자주 이루어지지 않는 경우 (조회가 많은 경우) - 데이터 양이 매우 많은 경우 (scale out 가능) |

### Q. Nosql은 언제 사용하면 좋을까요?

[답변]

NoSQL은 정확한 데이터 구조가 정해지지 않은 경우, 데이터 update가 자주 이루어지지 않고 조회가 많은 경우, 또 scale out이 가능하므로 데이터 양이 매우 많은 경우에 사용하면 좋습니다.

### Q. RDB는 언제 사용하면 좋을까요?

[답변]

RDB는 데이터 구조가 명확하여 변경될 여지가 없는 경우, 또 데이터 중복이 없으므로 데이터 update가 잦은 시스템에서 사용하면 좋습니다.
