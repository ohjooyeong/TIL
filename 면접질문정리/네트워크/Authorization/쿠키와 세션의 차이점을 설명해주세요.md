# Q. 쿠키와 세션의 차이점을 설명해주세요.

[TIP]

> 쿠키와 세션의 각각 특징들을 제대로 이해해야 차이점을 말할 수 있습니다. 특히 저장 위치의 차이와 이에 따른 보안성, 부하에 대해 설명하면 가장 좋습니다.

## connectionless, stateless

쿠키와 세션을 사용하는 이유는 HTTP의 connectionless(비연결성), stateless(비상태성)라는 특징 입니다. 클라이언트가 요청을 했을 때 그 요청에 맞는 응답을 보낸 후 연결을 끊고, 서버는 클라이언트에 대한 상태 정보를 유지하기 않기 때문에 알 수 없게 됩니다.

만약 쿠키와 세션을 사용하지 않는다면 인프런에 로그인을 했음에도 페이지를 이동할 때 마다 계속 로그인을 해야됩니다. 또한 로그인을 할 때, 아이디 비밀번호 저장을 하여 다음번에 재방문 할 때에도 해당 아이디와 비밀번호를 자동으로 입력하도록 할 수 있습니다. 이 외에도 쇼핑몰의 장바구니 기능과 팝업에서 "오늘 더이상 이 창을 보지 않음" 등의 편의성을 제공할 수 있게 됩니다.

## 쿠키 (cookie)

쿠키의 생성과 저장은 구현에 따라 다르지만 원리는 동일합니다.

1. 서버가 클라이언트로부터 요청을 받았을 때, 클라이언트에 관한 정보를 토대로 쿠키를 구성합니다.
2. 서버는 클라이언트에게 보내는 응답의 header에 쿠키를 담아 보냅니다.
3. 클라이언트가 응답을 받으면, 브라우저는 쿠키를 쿠키 디렉터리에 저장합니다.

쿠키는 클라이언트(브라우저), key-value 쌍으로 로컬에 저장되는 데이터 파일입니다. 유효시간 내에서는 브라우저가 종료되어도 계속 유지됩니다. 서버에서 response header에 set-cookie 속성을 사용해서 클라이언트에 쿠키를 만들고, 사용자가 따로 작업을 하지 않아도 브라우저가 쿠키를 request header에 담아서 서버에 전송합니다.

## 세션 (session)

세션은 기본적으로 쿠키를 이용하여 구현이 됩니다. 클라이언트를 구분하기 위해 각 클라이언트에게 session ID를 부여하고 클라이언트는 쿠키에 session ID를 저장해둡니다. 사용자 정보를 브라우저에 저장하는 쿠키와 달리 세션은 서버측에 저장하여 관리합니다. 세션은 유효시간을 두어 일정 시간 응답이 없다면 끊을 수 있고, 브라우저가 종료될 때까지 인증상태를 유지할 수 있습니다. 사용자 정보를 서버에 두기 때문에 쿠키보다 보안은 좋지만 서버 자원을 차지하기 때문에 서버에 과부하를 줄 수 있고 성능 저하의 요인이 될 수 있습니다.

[답변]

쿠키는 클라이언트 (브라우저) 로컬에 key-value 쌍으로 저장되는 데이터 파일입니다. 유효시간 내에서는 브라우저가 종료되어도 계속 유지됩니다. 한 도메인당 최대 20개, 한 쿠키 당 4KB

세션은 브라우저가 종료되거나, 서버에서 해당 세션을 삭제할 수 있기 때문에 쿠키보다 보안성이 좋습니다. 또한 서버에 데이터를 저장하므로 서버 용량이 허용하는 한에서 제한없이 데이터를 저장할 수 있다는 장점이 있지만 서버의 부하가 커진다는 단점이 될 수 있습니다.

### Q. 세션이 보안도 좋은데 쿠키를 사용하는 이유는 뭔가요?

[답변]

세션은 서버의 자원을 사용하기 때문에 서버가 느려질 수 있고 서버 자원이 부족할 수 있습니다. 따라서 쿠키를 사용하면 서버 자원의 낭비를 방지하여 웹사이트 속도를 높일 수 있습니다.

### Q. 쿠키의 사용 예를 아는대로 말씀해주세요.

[답변]

1. 쇼핑몰의 장바구니 기능
2. 로그인시 아이디와 비밀번호 저장(또는 자동 로그인)
3. 팝업에서 "오늘 더이상 이 창을 보지 않음" 체크
